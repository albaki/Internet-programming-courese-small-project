<html>
  <head><title>Registration form</title>

  <!-- inporting Bootstrap CSS -->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
 
  </head>

  <!-- Finishing importing -->

<body>
  <div class="container">
    <form name = "regForm" action="actionphppage.php" method="post">
        <h2 style='text-align:center'> Register to get your testimonial</h2> <br />

        <div class="form-row">
          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "name">Full Name</label>
            <input type="text" class="form-control" name="name" id = "name" placeholder="Name" required/>
            <p id="name_err"></p>
            </div>
          </div>


          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "email">Email</label>
            <input type="email" class="form-control" name="email" id = "email" placeholder="Email" required/>
            <p id="email_err"></p>
            </div>
          </div>
        </div> <br>


        <div class="form-row">
          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "mobile">Mobile No.</label>
            <input type="text" class="form-control" name="mobile" id = "mobile" placeholder="mobile no" required/>
            <p id="mobile_err"></p>
            </div>
          </div>


          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "address">Address</label>
            <input type="text" class="form-control" name="address" id = "address" placeholder="address" required/>
            <p id="address_err"></p>
            </div>
          </div>
        </div> <br>

          <div class="form-row">
          <div class="col-md-12">
            <div class="md-form form-group form-check custom-control custom-radio">
              <label for = "userType">User type</label> <br>
              <input class="custom-control-input" type="radio" name="userType" id="Student" value="Student" onclick="javascript:displayFunction();" required>
              <label class="custom-control-label" for="Student">
                Student
              </label><br>
              </div>

              <div class="md-form form-group form-check custom-control custom-radio">
              <input class="custom-control-input" type="radio" name="userType" id="Admin" value="Admin" onclick="javascript:displayFunction();">
              <label class="custom-control-label" for="Admin">
                Admin
              </label>
              </div>
          </div>
        </div> <br>

        
        <div id = "s1" style="display: none">
        <div class="form-row">
          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "fname">Father's Name</label>
            <input type="text" class="form-control" name="fname" id = "fname" placeholder="Father's Name"/>
            <p id="fname_err"></p>
            </div>
          </div>


          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "mname">Mother's Name</label>
            <input type="text" class="form-control" name="mname" id = "mname" placeholder="Mother's Name"/>
            <p id="mname_err"></p>
            </div>
          </div>
        </div> <br>
        </div>



          <div id = "s2" style="display: none">
          <div class="form-row">
          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "degree">Your ongoing or latest degree for which you want to get testimonial</label><br>
            <select name="degree" id="degree" >
              <option value="">Empty/none</option>
              <option value="Bachelor">Bachelor</option>
              <option value="PGD">Postgraduate diploma</option>
              <option value="Masters">Masters</option>
              <option value="PhD">PhD</option>
            </select>
            <p id="degree_err"></p>
            </div>
          </div>

            <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "regno">Registration no.</label>
            <input type="text" class="form-control" name="regno" id = "regno" placeholder="University's registration no."/>
            <p id="reg_err"></p>
            </div>
          </div>
        </div> <br>
        </div>



        <div class="form-row">
          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "pass">Password</label>
            <input type="password" class="form-control" name="pass" id = "pass" placeholder="Password" required/>
            <p id="pass_err"></p>
            </div>
          </div>


          <div class="col-md-6">
            <div class="md-form form-group">
            <label for = "conpass">Confirm password</label>
            <input type="password" class="form-control" name="conpass" id = "conpass" placeholder="Confirm password" required/>
            <p id="conpass_err"></p>
            </div>
          </div>
        </div> <br>







          <div class="col-12">
          <input type="submit" onclick="return checkForm()"/>
          </div>



        
    </form>

    <p style='position: relative; bottom: 0; width:100%; text-align: right'>If already registered please click <a href= 'login.php'>here</a> to login</p>

  </div>

  <!-- Importing Popper jquery etc. -->

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

  <!-- Finishing importing -->

</body>

<script type="text/javascript">
  

  function displayFunction(){

    if (document.getElementById('Student').checked) {
        document.getElementById('s1').style.display = 'block';
        document.getElementById('s2').style.display = 'block';
    }
    else {
      document.getElementById('s1').style.display = 'none';
      document.getElementById('s2').style.display = 'none';
    }

  }


  function checkForm() {

    var confirm = true;

    var username_name = document.getElementById("name");
    var username_value = document.getElementById("name").value.trim();
    var letters = /^[a-zA-Z\s.-]+$/;

    var mailformat = /^\w+([\.\-]?\w+)*@\w+([\.\-]?\w+)*(\.\w{2,3})+$/;
    var email_name = document.getElementById("email");
    var email_value = document.getElementById("email").value;
    var email_length = email_value.length;


    var mobileformat =  /(^(\+8801|8801|01|008801))[1|3-9]{1}(\d){8}$/;
    var mobile_no = document.getElementById("mobile");
    var mobile_value = document.getElementById("mobile").value;
    var mobile_length = mobile_value.length;


    var address = document.getElementById("address");
    var address_value = document.getElementById("address").value;
    var address_letters = /^[a-zA-Z0-9\s,.:'-/]{3,}$/ ;


    var Check = document.getElementById('Student').checked;
    var fathers_name = document.getElementById("fname");
    var fathersname_value = document.getElementById("fname").value.trim();
    var fname_letters = /^[a-zA-Z\s.-]+$/;

    var mothers_name = document.getElementById("mname");
    var mothersname_value = document.getElementById("mname").value;
    var mname_letters = /^[a-zA-Z\s.-]+$/;


    var regformat = /^[0-9a-zA-Z]+$/;
    var reg_name = document.getElementById("regno");
    var reg_value = document.getElementById("regno").value;
    var reg_length = reg_value.length;


    var passw = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;
    var password = document.getElementById("pass");
    var password_value = document.getElementById("pass").value;
    var pass_length = password_value.length;

    var a= document.getElementById("pass");
    var b= document.getElementById("conpass");

    var Degree = document.getElementById("degree").value;


    if(username_value =="" || !username_value.match(letters))
    {
    document.getElementById('name_err').innerHTML = 'Name must not be empty and alphabetic chracters only.';
    username_name.focus();
    document.getElementById('name_err').style.color = "#FF0000";
    confirm = false;
    }
    else
    {
    document.getElementById('name_err').innerHTML = 'Your name '+username_value+' has a valid format';
    document.getElementById('name_err').style.color = "#00AF33";
    }




    if(!email_value.match(mailformat) || email_length === 0)
    {
    document.getElementById('email_err').innerHTML = 'This is not a valid email format.';
    email_name.focus();
    document.getElementById('email_err').style.color = "#FF0000";
    confirm = false;
    }
    else
    {
    document.getElementById('email_err').innerHTML = 'Valid email format';
    document.getElementById('email_err').style.color = "#00AF33";
    }



    if(!mobile_value.match(mobileformat) || mobile_length < 11 || mobile_length > 14)
    {
    document.getElementById('mobile_err').innerHTML = 'This is not a valid mobile no';
    mobile_no.focus();
    document.getElementById('mobile_err').style.color = "#FF0000";
    confirm = false;
    }
    else if (mobile_length > 11 && mobile_length < 14)
    {
    document.getElementById('mobile_err').innerHTML = 'This is not a valid mobile no';
    mobile_no.focus();
    document.getElementById('mobile_err').style.color = "#FF0000";
    confirm = false;
    }
    else
    {
    document.getElementById('mobile_err').innerHTML = 'Valid mobile no';
    document.getElementById('mobile_err').style.color = "#00AF33";
    }




    if(address_value =="" || !address_value.match(address_letters))
    {
    document.getElementById('address_err').innerHTML = 'Please check the chracters and put a valid address.';
    address.focus();
    document.getElementById('address_err').style.color = "#FF0000";
    confirm = false;
    }
    else
    {
    document.getElementById('address_err').innerHTML = 'valid address';
    document.getElementById('address_err').style.color = "#00AF33";
    }



    if((fathers_name =="" && Check)|| (!fathersname_value.match(fname_letters) && Check))
    {
    document.getElementById('fname_err').innerHTML = 'Name must not be empty and alphabetic chracters only.';
    fathers_name.focus();
    document.getElementById('fname_err').style.color = "#FF0000";
    confirm = false;
    }
    else
    {
    document.getElementById('fname_err').innerHTML = 'Valid name format';
    document.getElementById('fname_err').style.color = "#00AF33";
    fathersname_value = "";
    }



    if((mothers_name =="" && Check)|| (!mothersname_value.match(mname_letters) && Check))
    {
    document.getElementById('mname_err').innerHTML = 'Name must not be empty and alphabetic chracters only.';
    mothers_name.focus();
    document.getElementById('mname_err').style.color = "#FF0000";
    confirm = false;
    }
    else
    {
    document.getElementById('mname_err').innerHTML = 'Valid name format';
    document.getElementById('mname_err').style.color = "#00AF33";
    mothersname_value  ="";
    }


  
    if((!reg_value.match(regformat) && Check) || (reg_length > 8 && Check) || (reg_length < 4 && Check))
    {
    document.getElementById('reg_err').innerHTML = 'This is not a valid registration no. format.(i.e HA1971)';
    reg_name.focus();
    document.getElementById('reg_err').style.color = "#FF0000";
    confirm = false;
    }
    else
    {
    document.getElementById('reg_err').innerHTML = 'Valid registration no. format';
    document.getElementById('reg_err').style.color = "#00AF33";
    // reg_value = "";
    }




    if(!password_value.match(passw)|| (pass_length < 6 && pass_length > 20))
    {
    document.getElementById('pass_err').innerHTML = 'This is not a valid password format. Use atleast one uppercase one lower case one number and one special chracter. use lowest 6 to highest 20 chracters';
    password.focus();
    document.getElementById('pass_err').style.color = "#FF0000";
    confirm = false;
    }
    else
    {
    document.getElementById('pass_err').innerHTML = 'Valid password format';
    document.getElementById('pass_err').style.color = "#00AF33";
    }



    if(a.value===b.value && b.value != "")
    {

    document.getElementById('conpass_err').innerHTML = 'password matched';
    document.getElementById('conpass_err').style.color = "#00AF33";
    }
    else
    {
    document.getElementById('conpass_err').innerHTML = 'password not matched';
    b.focus();
    document.getElementById('conpass_err').style.color = "#FF0000";
    confirm = false;
    }

    if (Degree === "" && Check){
      document.getElementById("degree").required = true;
      document.getElementById('degree_err').innerHTML = 'Please select your degree';
      document.getElementById('degree_err').style.color = "#FF0000";
      confirm = false;
    }
    else
    {
      document.getElementById('degree_err').innerHTML = '';
    }


    if (confirm === false){
      alert("Invalid submission. Please check the information.");
    }

    return confirm;
  }

</script>

</html>

